name: CleanUpCode

on: [ push ]

jobs:
    r-sharp-cleanup:
        name: R# Cleanup Code
        runs-on: ubuntu-latest

        steps:
          -   name: Checkout
              uses: actions/checkout@v3

          -   name: Setup .NET
              uses: actions/setup-dotnet@v3
              with:
                  dotnet-version: 6.0.x

          -   name: Restore Dependencies
              run: dotnet restore Blef.sln

          -   name: Cleanup Code
              id: cleanup
              uses: ArturWincenciak/ReSharper_CleanupCode@v2.0
              with:
                  solution: 'Blef.sln'
                  fail_on_reformat_needed: 'no'
                  auto_commit: 'yes'
                  jb_cleanup_code_arg: '--verbosity=INFO --profile=Blef: Full Cleanup --exclude=**UnitTests/**.*'
                  commit_message: 'Cleanup code by ReSharper CLI CleanupCode GitHub Action'
                  commit_creator_email: 'cleanupcode@github.action'
                  commit_creator_name: 'CleanupCode Action'